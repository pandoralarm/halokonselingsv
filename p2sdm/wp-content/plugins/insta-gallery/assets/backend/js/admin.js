!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){!function(){e.exports=this.jQuery}()},function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o);n(2),n(3),n(4),n(5),n(6);!function(e){_.mixin({escapeHtml:function(e){return e.replace("&amp;",/&/g).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&#039;/g,"'")},getFormData:function(e){return e.serializeJSON()}});var t=Backbone.Model.extend({defaults:{access_token:""}}),n=Backbone.View.extend({events:{"change input":"enable","click .media-modal-close":"close","submit .media-modal-form":"submit"},templates:{},initialize:function(){_.bindAll(this,"open","render","close","enable","submit"),this.init(),this.open()},init:function(){this.templates.window=wp.template("qligg-modal-account-main")},render:function(){this.$el.html(this.templates.window(this.model.attributes))},updateModel:function(e){e.preventDefault();var t=this.$el.find("form"),n=_.getFormData(t);this.model.set(n)},enable:function(t){e(".media-modal-submit").prop("disabled",!1),this.updateModel(t)},open:function(t){this.render(),e("body").addClass("modal-open").append(this.$el)},close:function(t){t.preventDefault(),this.undelegateEvents(),e(document).off("focusin"),e("body").removeClass("modal-open"),this.remove()},submit:function(t){t.preventDefault();var n=this,o=n.$el.find("#qligg_modal"),i=o.find(".settings-save-status .spinner"),a=o.find(".settings-save-status .saved");return e.ajax({url:ajaxurl,data:{action:"qligg_add_account",nonce:qligg_account.nonce.qligg_add_account,account_data:n.model.attributes},dataType:"json",type:"POST",beforeSend:function(){e(".media-modal-submit").prop("disabled",!0),i.addClass("is-active")},complete:function(){i.removeClass("is-active")},error:function(e){alert("Error!")},success:function(e){e.success?(o.addClass("reload"),a.addClass("is-active"),_.delay((function(){a.removeClass("is-active")}),5e3),n.close(t),window.location.reload()):alert(e.data)}}),!1}}),o=Backbone.View.extend({initialize:function(e){var o=new t;o.set({access_token:""}),new n({model:o})}});e(document).on("click","[data-qligg-copy-token]",(function(t){t.preventDefault(),e(e(this).data("qligg-copy-token")).select(),document.execCommand("copy")})),e(document).on("click","[data-qligg-delete-token]",(function(t){if(t.preventDefault(),!confirm(qligg_account.message.confirm_delete))return!1;var n=e(t.target).closest("[data-account_id]").data("account_id"),o=e(t.target).closest("td").find(".spinner");e.ajax({url:ajaxurl,type:"post",data:{action:"qligg_delete_account",account_id:n,nonce:qligg_account.nonce.qligg_delete_account},beforeSend:function(){o.addClass("is-active")},success:function(e){e.success?setTimeout((function(){window.location.reload()}),300):alert(e.data)},complete:function(){o.removeClass("is-active")},error:function(e,t){console.log(t)}})})),e(document).on("click","[data-qligg-renew-token]",(function(t){t.preventDefault();var n=e(t.target).closest("[data-account_id]").data("account_id"),o=e(t.target).closest("td").find(".spinner");e.ajax({url:ajaxurl,type:"post",data:{action:"qligg_renew_access_token",account_id:n,nonce:qligg_account.nonce.qligg_renew_access_token},beforeSend:function(){o.addClass("is-active")},success:function(e){alert(e.data),e.success?(setTimeout((function(){window.location.reload()}),300),console.log(e)):alert(e.data)},complete:function(){o.removeClass("is-active")},error:function(e,t){console.log(t)}})})),e("#qligg-add-token").on("click",(function(e){e.preventDefault(),new o(e)}))}(i.a)},function(e,t){!function(){e.exports=this.wp.util}()},function(e,t){!function(){e.exports=this.window.Backbone}()},function(e,t){!function(){e.exports=this._["."]}()},function(e,t){!function(){e.exports=this.window.serializeJSON}()},function(e,t){!function(){e.exports=this.window.wpColorPicker}()}]);